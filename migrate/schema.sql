CREATE TABLE "notes" ("id" VARCHAR NOT NULL, "reaction_id" VARCHAR, "user_id" VARCHAR, "reaction_emoji_name" VARCHAR, "text" VARCHAR, "created_at" TIMESTAMP, PRIMARY KEY ("id"), FOREIGN KEY ("reaction_emoji_name") REFERENCES "reactions" ("name") ON UPDATE NO ACTION ON DELETE NO ACTION, FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
CREATE TABLE "users" ("id" VARCHAR NOT NULL, "name" VARCHAR, "display_name" VARCHAR, "avatar_url" VARCHAR, "count" INTEGER, PRIMARY KEY ("id"));
CREATE TABLE "reactions" ("id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, "name" VARCHAR, "image" VARCHAR, "count" INTEGER, UNIQUE ("name"));
CREATE TABLE "hash_tags" ("id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, "text" VARCHAR, "count" INTEGER, UNIQUE ("text"));
CREATE TABLE "note_to_tags" ("note_id" VARCHAR NOT NULL, "hash_tag_id" INTEGER NOT NULL, PRIMARY KEY ("note_id", "hash_tag_id"), FOREIGN KEY ("hash_tag_id") REFERENCES "hash_tags" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, FOREIGN KEY ("note_id") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
CREATE TABLE "files" ("id" VARCHAR NOT NULL, "name" VARCHAR, "url" VARCHAR, "thumbnail_url" VARCHAR, "type" VARCHAR, "created_at" TIMESTAMP, PRIMARY KEY ("id"));
CREATE TABLE "note_to_files" ("note_id" VARCHAR NOT NULL, "file_id" VARCHAR NOT NULL, PRIMARY KEY ("note_id", "file_id"), FOREIGN KEY ("note_id") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, FOREIGN KEY ("file_id") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
CREATE TABLE "months" ("ym" VARCHAR NOT NULL, "count" INTEGER, PRIMARY KEY ("ym"));
CREATE TABLE "days" ("ymd" VARCHAR NOT NULL, "ym" VARCHAR, "count" INTEGER, PRIMARY KEY ("ymd"), FOREIGN KEY ("ym") REFERENCES "months" ("ym") ON UPDATE NO ACTION ON DELETE NO ACTION);
